# Web 개론

## Web의 기본 3가지 요소

**URI** (Uniform Resource Identifier) - 리소스 식별자 (모든 정보에 접근할 수 있는 정보)

**HTTP** (Hypertext Transfer Protocol) - 어플리케이션 컨트롤 

**HTML** (Hyper Text Markup Language) - 하이퍼미디어 포맷

## REST
> Representaitional State Transfer - 자원의 상태 전달

1. **Client, Server** : 클라이언트와 서버가 서로 독립적으로 분리되어야 한다.
2. **Stateless** : 요청에 대해 클라이언트의 상태를 서버에 저장하지 않는다.
3. **Cache** : 클라이언트는 서버의 응답을 Cache할 수 있어야 한다. 클라이언트가 Cache를 통해 응답을 재사용할 수 있어야한다.
4. **Layer System** : 서버와 클라이언트 사이에 Firewall, Gateway, Proxy 등 다양한 계층 형태로 구성이 가능하며 확장 할 수 있어야한다.
5. **인터페이스 일관성** : 인터페이스의 일관성을 지키고, 아키텍쳐를 단순화시켜 작은 단위로 분리하여, 클라이언트, 서버가 독립적으로 개선될 수 있어야한다.
    1. 자원의 식별
        >웹 기반의 REST에서는 리소스를 접근할 때 URI 사용
    2. 메시지를 통한 리소스 조작
        >HTTP Header부에 content-type을 통해 데이터 타입을 지정
    3. 자기 서술적 메시지
        >요청하는 데이터가 어떻게 처리되어져야 하는지 충분한 데이터를 포함 할 수 있어야 한다.
    4. 애플리케이션 상태에 대한 엔진으로써 하이퍼미디어
        >REST API를 개발할 떄 단순히 Client 요청에 대한 데이터만 응답해주는 것이 아닌 관련된 리소스에 대한 Link 정보까지 같이 포함되어져야 한다.
6. **Code on Demand** : 특정한 기능을 서버로부터 클라이언트가 전달받아 코드를 실행할 수 있어야한다. (Optional)

> 위 조건을 모두 잘 갖춘 경우, REST Ful하다고 표현하며, 이를 REST API라고 칭한다.


## URI 설계 패턴
**URI (Uniform Resource Identifier)**
> 인터넷에서 특정 자원을 나타내는 주소 값, 해당 값은 유일하다.

**URL (Uniform Resource Locator)**
> 특정 파일의 위치를 식별하는 주소

### URI 설계 원칙 (RFX-3986)
- 슬래시 구분자는 계층 관계를 나타내는 데 사용한다.
- URI의 마지막 문자로 슬래시 구분자는 포함하지 않는다.
- 하이픈은 URI의 가독성을 높이는데 사용한다.
- 밑줄은 사용하지 않는다.
- URI 경로에는 소문자가 적합하다.
- 파일 확장자는 URI에 포함하지 않는다.
- 프로그래밍 언어에 의존적인 확장자를 사용하지 않는다.
- 구현에 의존적인 경로를 사용하지 않는다.
- 세션 ID를 포함하지 않는다.
- 프로그래밍 언어의 Method명을 사용하지 않는다.
- 명사에 단수형보다 복수형을 사용해야한다. 컬렉션에 대한표현은 복수로 사용
- 컨트롤러 이름으로는 동사나 동사구를 사용한다.
- 경로 부분 중 변하는 부분은 유일한 값으로 대체한다.
- CRUD 기능을 나타내는 것은 URI에 사용하지 않는다.
- URI Query Parameter 디자인
    > URI 쿼리 부분으로 컬력션 결과에 대해서 필터링 할 수 있다.

    > URI 쿼리는 컬렉션의 결과를 페이지로 구분하여 나타내는데 사용한다.
- API에 있어서 서브 도메인은 일관성 있게 사용해야 한다.
- 클라이언트 개발자 포탈 서브 도메인은 일관성 있게 만든다.

## HTTP Protocol
### HTTP
> RFC 2616에서 규정된 Web에서 데이터를 주고 받는 프로토콜

TCP를 기반으로 한 REST의 특징을 모두 구현하고 있는 Web 기반의 프로토콜

- 반드시 Request가 있으며, 그에 따른 Response가 있다.


|Method|의미|CRUD|멱등성|안정성|Path Variable|Query Parameter|DataBody|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|GET|리소스 취득|R|⭕|⭕|⭕|⭕|❌|
|POST|리소스 생성, 추가|C|❌|❌|⭕|🔺|⭕|
|PUT|리소스 갱신, 생성|C/U|⭕|❌|⭕|🔺|⭕|
|DELETE|리소스 삭제|D|⭕|❌|⭕|⭕|❌|
|HEAD|헤더 데이터 취득|❌|⭕|⭕|-|-|-|
|OPTIONS|지원하는 메서드 취득|-|⭕|-|-|-|-|
|TRACE|요청메시지 반환|-|⭕|-|-|-|-|
|CONNECT|프록시 동작의 터널 접속으로 변경|-|❌|-|-|-|-|

|응답 코드|의미|내용|
|--|--|--|
|1XX|처리중|처리가 계속되고 있는 상태|
|2XX|성공|요청 성공|
|3XX|리다이렉트|다른 리소스로 리다이렉트|
|4XX|클라이언트 에러|클라이언트 요청에 에러가 있는 상태|
|5XX|서버 에러|서버 처리 중 발생한 에러|